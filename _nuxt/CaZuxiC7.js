import{s as q,h as C,v as _,x as ge,y as be,z as ee,j as $,R as O,F as te,A as oe,_ as ke,g as ue,o as H,w as L,b as W,i as K,c as X,E as se,n as j,f as J,H as ie,G as Q,a as pe,l as $e,B as Ce,K as de,L as ve,C as ce,X as Ee,N as Te}from"./Bepo3oWq.js";import{n as me,q as Fe,N as Be,E as Ie,d as I}from"./DKpsph34.js";import{i as G,o as a,A as ne,u as A,a as M,N as fe,s as De}from"./CwfDD4Ze.js";import{w as Oe}from"./BBFbVNX1.js";import{s as Me}from"./GZy-oSuQ.js";import{f as Y,u as Z}from"./CCis0GIW.js";import{l as Ne,i as U,t as Ae}from"./kEVJgYQE.js";import{i as ae,P as N,N as D,E as le,w as He,T as x,h as Le}from"./DHJTeV3N.js";import{e as je,u as Ge}from"./zeLF7e_h.js";import{u as Re}from"./BnvuFnrx.js";import"./Bw4IL3HP.js";const ze={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:je};var Ke=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ke||{});let ye=Symbol("PopoverContext");function re(e){let P=oe(ye,null);if(P===null){let S=new Error(`<${e} /> is missing a parent <${he.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(S,re),S}return P}let Ue=Symbol("PopoverGroupContext");function Pe(){return oe(Ue,null)}let Se=Symbol("PopoverPanelContext");function qe(){return oe(Se,null)}let he=q({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:P,attrs:S,expose:T}){var h;let w=$(null);T({el:w,$el:w});let n=$(1),o=$(null),u=$(null),c=$(null),d=$(null),g=C(()=>ae(w)),k=C(()=>{var t,r;if(!a(o)||!a(d))return!1;for(let z of document.querySelectorAll("body > *"))if(Number(z==null?void 0:z.contains(a(o)))^Number(z==null?void 0:z.contains(a(d))))return!0;let l=le(),y=l.indexOf(a(o)),E=(y+l.length-1)%l.length,B=(y+1)%l.length,R=l[E],we=l[B];return!((t=a(d))!=null&&t.contains(R))&&!((r=a(d))!=null&&r.contains(we))}),b={popoverState:n,buttonId:$(null),panelId:$(null),panel:d,button:o,isPortalled:k,beforePanelSentinel:u,afterPanelSentinel:c,togglePopover(){n.value=A(n.value,{0:1,1:0})},closePopover(){n.value!==1&&(n.value=1)},close(t){b.closePopover();let r=t?t instanceof HTMLElement?t:t.value instanceof HTMLElement?a(t):a(b.button):a(b.button);r==null||r.focus()}};be(ye,b),Ae(C(()=>A(n.value,{0:U.Open,1:U.Closed})));let F={buttonId:b.buttonId,panelId:b.panelId,close(){b.closePopover()}},s=Pe(),f=s==null?void 0:s.registerPopover,[m,p]=Fe(),v=Be({mainTreeNodeRef:s==null?void 0:s.mainTreeNodeRef,portals:m,defaultContainers:[o,d]});function i(){var t,r,l,y;return(y=s==null?void 0:s.isFocusWithinPopoverGroup())!=null?y:((t=g.value)==null?void 0:t.activeElement)&&(((r=a(o))==null?void 0:r.contains(g.value.activeElement))||((l=a(d))==null?void 0:l.contains(g.value.activeElement)))}return ee(()=>f==null?void 0:f(F)),Ie((h=g.value)==null?void 0:h.defaultView,"focus",t=>{var r,l;t.target!==window&&t.target instanceof HTMLElement&&n.value===0&&(i()||o&&d&&(v.contains(t.target)||(r=a(b.beforePanelSentinel))!=null&&r.contains(t.target)||(l=a(b.afterPanelSentinel))!=null&&l.contains(t.target)||b.closePopover()))},!0),Oe(v.resolveContainers,(t,r)=>{var l;b.closePopover(),He(r,Le.Loose)||(t.preventDefault(),(l=a(o))==null||l.focus())},C(()=>n.value===0)),()=>{let t={open:n.value===0,close:b.close};return O(te,[O(p,{},()=>ne({theirProps:{...e,...S},ourProps:{ref:w},slot:t,slots:P,attrs:S,name:"Popover"})),O(v.MainTreeNode)])}}}),We=q({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:P,slots:S,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-button-${G()}`,n=re("PopoverButton"),o=C(()=>ae(n.button));T({el:n.button,$el:n.button}),_(()=>{n.buttonId.value=w}),ge(()=>{n.buttonId.value=null});let u=Pe(),c=u==null?void 0:u.closeOthers,d=qe(),g=C(()=>d===null?!1:d.value===n.panelId.value),k=$(null),b=`headlessui-focus-sentinel-${G()}`;g.value||ee(()=>{n.button.value=a(k)});let F=Me(C(()=>({as:e.as,type:P.type})),k);function s(t){var r,l,y,E,B;if(g.value){if(n.popoverState.value===1)return;switch(t.key){case M.Space:case M.Enter:t.preventDefault(),(l=(r=t.target).click)==null||l.call(r),n.closePopover(),(y=a(n.button))==null||y.focus();break}}else switch(t.key){case M.Space:case M.Enter:t.preventDefault(),t.stopPropagation(),n.popoverState.value===1&&(c==null||c(n.buttonId.value)),n.togglePopover();break;case M.Escape:if(n.popoverState.value!==0)return c==null?void 0:c(n.buttonId.value);if(!a(n.button)||(E=o.value)!=null&&E.activeElement&&!((B=a(n.button))!=null&&B.contains(o.value.activeElement)))return;t.preventDefault(),t.stopPropagation(),n.closePopover();break}}function f(t){g.value||t.key===M.Space&&t.preventDefault()}function m(t){var r,l;e.disabled||(g.value?(n.closePopover(),(r=a(n.button))==null||r.focus()):(t.preventDefault(),t.stopPropagation(),n.popoverState.value===1&&(c==null||c(n.buttonId.value)),n.togglePopover(),(l=a(n.button))==null||l.focus()))}function p(t){t.preventDefault(),t.stopPropagation()}let v=me();function i(){let t=a(n.panel);if(!t)return;function r(){A(v.value,{[I.Forwards]:()=>N(t,D.First),[I.Backwards]:()=>N(t,D.Last)})===x.Error&&N(le().filter(l=>l.dataset.headlessuiFocusGuard!=="true"),A(v.value,{[I.Forwards]:D.Next,[I.Backwards]:D.Previous}),{relativeTo:a(n.button)})}r()}return()=>{let t=n.popoverState.value===0,r={open:t},{...l}=e,y=g.value?{ref:k,type:F.value,onKeydown:s,onClick:m}:{ref:k,id:w,type:F.value,"aria-expanded":n.popoverState.value===0,"aria-controls":a(n.panel)?n.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:s,onKeyup:f,onClick:m,onMousedown:p};return O(te,[ne({ourProps:y,theirProps:{...P,...l},slot:r,attrs:P,slots:S,name:"PopoverButton"}),t&&!g.value&&n.isPortalled.value&&O(Y,{id:b,features:Z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:i})])}}}),Xe=q({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:P,slots:S,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-panel-${G()}`,{focus:n}=e,o=re("PopoverPanel"),u=C(()=>ae(o.panel)),c=`headlessui-focus-sentinel-before-${G()}`,d=`headlessui-focus-sentinel-after-${G()}`;T({el:o.panel,$el:o.panel}),_(()=>{o.panelId.value=w}),ge(()=>{o.panelId.value=null}),be(Se,o.panelId),ee(()=>{var p,v;if(!n||o.popoverState.value!==0||!o.panel)return;let i=(p=u.value)==null?void 0:p.activeElement;(v=a(o.panel))!=null&&v.contains(i)||N(a(o.panel),D.First)});let g=Ne(),k=C(()=>g!==null?(g.value&U.Open)===U.Open:o.popoverState.value===0);function b(p){var v,i;switch(p.key){case M.Escape:if(o.popoverState.value!==0||!a(o.panel)||u.value&&!((v=a(o.panel))!=null&&v.contains(u.value.activeElement)))return;p.preventDefault(),p.stopPropagation(),o.closePopover(),(i=a(o.button))==null||i.focus();break}}function F(p){var v,i,t,r,l;let y=p.relatedTarget;y&&a(o.panel)&&((v=a(o.panel))!=null&&v.contains(y)||(o.closePopover(),((t=(i=a(o.beforePanelSentinel))==null?void 0:i.contains)!=null&&t.call(i,y)||(l=(r=a(o.afterPanelSentinel))==null?void 0:r.contains)!=null&&l.call(r,y))&&y.focus({preventScroll:!0})))}let s=me();function f(){let p=a(o.panel);if(!p)return;function v(){A(s.value,{[I.Forwards]:()=>{var i;N(p,D.First)===x.Error&&((i=a(o.afterPanelSentinel))==null||i.focus())},[I.Backwards]:()=>{var i;(i=a(o.button))==null||i.focus({preventScroll:!0})}})}v()}function m(){let p=a(o.panel);if(!p)return;function v(){A(s.value,{[I.Forwards]:()=>{let i=a(o.button),t=a(o.panel);if(!i)return;let r=le(),l=r.indexOf(i),y=r.slice(0,l+1),E=[...r.slice(l+1),...y];for(let B of E.slice())if(B.dataset.headlessuiFocusGuard==="true"||t!=null&&t.contains(B)){let R=E.indexOf(B);R!==-1&&E.splice(R,1)}N(E,D.First,{sorted:!1})},[I.Backwards]:()=>{var i;N(p,D.Previous)===x.Error&&((i=a(o.button))==null||i.focus())}})}v()}return()=>{let p={open:o.popoverState.value===0,close:o.close},{focus:v,...i}=e,t={ref:o.panel,id:w,onKeydown:b,onFocusout:n&&o.popoverState.value===0?F:void 0,tabIndex:-1};return ne({ourProps:t,theirProps:{...P,...i},attrs:P,slot:p,slots:{...S,default:(...r)=>{var l;return[O(te,[k.value&&o.isPortalled.value&&O(Y,{id:c,ref:o.beforePanelSentinel,features:Z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:f}),(l=S.default)==null?void 0:l.call(S,...r),k.value&&o.isPortalled.value&&O(Y,{id:d,ref:o.afterPanelSentinel,features:Z.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:m})])]}},features:fe.RenderStrategy|fe.Static,visible:k.value,name:"PopoverPanel"})}}});const V=Ce(ce.ui.strategy,ce.ui.popover,ze),Je=q({components:{HPopover:he,HPopoverButton:We,HPopoverPanel:Xe},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>V.default.openDelay},closeDelay:{type:Number,default:()=>V.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:P}){const{ui:S,attrs:T}=Ge("popover",de(e,"ui"),V,de(e,"class")),h=C(()=>Ee(e.mode==="hover"?{offsetDistance:0}:{},e.popper,S.value.popper)),[w,n]=Re(h.value),o=$(null),u=$(null);let c=null,d=null;_(()=>{var m,p;const s=(m=o.value)==null?void 0:m.$.provides;if(!s)return;const f=Object.getOwnPropertySymbols(s);u.value=f.length&&s[f[0]],e.open&&((p=u.value)==null||p.togglePopover())});const g=C(()=>{var p,v,i;if(e.mode!=="hover")return{};const s=((p=e.popper)==null?void 0:p.offsetDistance)||((v=S.value.popper)==null?void 0:v.offsetDistance)||8,f=(i=h.value.placement)==null?void 0:i.split("-")[0],m=`${s}px`;return f==="top"||f==="bottom"?{paddingTop:m,paddingBottom:m}:f==="left"||f==="right"?{paddingLeft:m,paddingRight:m}:{paddingTop:m,paddingBottom:m,paddingLeft:m,paddingRight:m}});function k(s){!s.cancelable||!u.value||e.mode==="click"||(u.value.popoverState===0?u.value.closePopover():u.value.togglePopover())}function b(){e.mode!=="hover"||!u.value||(d&&(clearTimeout(d),d=null),u.value.popoverState!==0&&(c=c||setTimeout(()=>{u.value.togglePopover&&u.value.togglePopover(),c=null},e.openDelay)))}function F(){e.mode!=="hover"||!u.value||(c&&(clearTimeout(c),c=null),u.value.popoverState!==1&&(d=d||setTimeout(()=>{u.value.closePopover&&u.value.closePopover(),d=null},e.closeDelay)))}return ve(()=>e.open,(s,f)=>{u.value&&(f===void 0||s===f||(s?u.value.popoverState=0:u.value.closePopover()))}),ve(()=>{var s;return(s=u.value)==null?void 0:s.popoverState},(s,f)=>{f===void 0||s===f||P("update:open",s===0)}),De(()=>Te()),{ui:S,attrs:T,popover:o,popper:h,trigger:w,container:n,containerStyle:g,onTouchStart:k,onMouseEnter:b,onMouseLeave:F}}}),Qe=["disabled"];function Ve(e,P,S,T,h,w){const n=J("HPopoverButton"),o=J("HPopoverPanel"),u=J("HPopover");return H(),ue(u,Q({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:L(({open:c,close:d})=>[W(n,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:L(()=>[se(e.$slots,"default",{open:c,close:d},()=>[pe("button",{disabled:e.disabled}," Open ",8,Qe)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(H(),ue(ie,Q({key:0,appear:""},e.ui.overlay.transition),{default:L(()=>[c?(H(),X("div",{key:0,class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)):K("",!0)]),_:2},1040)):K("",!0),c?(H(),X("div",{key:1,ref:"container",class:j([e.ui.container,e.ui.width]),style:$e(e.containerStyle),onMouseenter:P[0]||(P[0]=(...g)=>e.onMouseEnter&&e.onMouseEnter(...g))},[W(ie,Q({appear:""},e.ui.transition),{default:L(()=>[pe("div",null,[e.popper.arrow?(H(),X("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):K("",!0),W(o,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:L(()=>[se(e.$slots,"panel",{open:c,close:d})]),_:2},1032,["class"])])]),_:2},1040)],38)):K("",!0)]),_:3},16,["class","onMouseleave"])}const ut=ke(Je,[["render",Ve]]);export{ut as default};
